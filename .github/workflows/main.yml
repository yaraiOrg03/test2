name: CloneTest_zissekiti

on: 
 workflow_dispatch:
     inputs:  
      apllicationname:
       required: true
       type: string
jobs:
  build:
    runs-on: windows-latest
    steps:
    
     - name: Preparing Repositories
       uses: actions/checkout@v2
       with:
        repository: "yaraiOrg03/test2"
     - name: test   
       run: cd ${{github.workspace}};ls
       
     - name: Setup .NET
       uses: warrenbuckley/setup-MSBuild@v1
       with:
        dotnet-version: 4.7.2
     - name: Restore dependencies
       run: dotnet restore
     - name: Build
       run: dotnet build --no-restore

   
     - name: Install AzureSignTool
       run: dotnet tool install --global AzureSignTool
     - name: Sign package
       run:
              AzureSignTool sign -kvt "${{secrets.AzureKeyVaultTenantId}}" -kvu "${{ secrets.AzureKeyVaultUrl }}" -kvi "${{ secrets.AzureKeyVaultClientId }}" -kvs "${{ secrets.AzureKeyVaultClientSecret }}" -kvc ${{ secrets.AzureKeyVaultName }} -tr http://timestamp.digicert.com -v "D:\a\1\s\hotel_groupB\hotel_groupB.csproj"
     
     - name: Archive production artifacts
       uses: actions/upload-artifact@v2
       with:
          name: 39
          path: "hotel_groupB"
